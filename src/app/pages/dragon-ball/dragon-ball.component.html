<div class="container">
  <div class="header">
    <h1>Dragon Ball Characters</h1>
    <button
      class="custom-button"
      (click)="fetchCharacters()"
      [disabled]="isLoading"
    >
      {{ isLoading ? 'Fetching...' : 'Fetch Latest Characters' }}
    </button>
  </div>


  <!-- Character grid -->
  <div class="character-grid">
    <ng-container *ngIf="characters$ | async as characters">
      <ng-container *ngIf="characters.length > 0; else emptyState">
        <app-card
          *ngFor="let character of characters; trackBy: trackById"
          [character]="character"
          @cardAnimation
          (cardClick)="showCharacterDetail(character)"
        ></app-card>
      </ng-container>
    </ng-container>
  </div>

  <!-- Empty state -->
  <ng-template #emptyState>
    <div class="empty-state">
      <p>No characters found. Click the button above to fetch characters.</p>
    </div>
  </ng-template>
</div>
